# 参数优化说明

## 已优化的所有参数

### 1. 文件I/O参数 (`force_write_table.m`)
- **删除重试延迟**: 0.15秒（首次尝试），指数退避（0.2, 0.3, 0.4, 0.5秒）
- **文件写入后等待**: 0.2秒（确保文件系统刷新）
- **临时文件验证**: 最多3次重试，每次间隔0.1秒
- **文件移动等待**: 0.2秒（确保移动完成）
- **最终验证**: 0.15秒初始等待，最多3次验证

**优化理由**: 
- 0.15秒足够Windows文件系统完成大多数文件操作
- 0.2秒确保大文件写入完成
- 指数退避避免过度等待，同时给文件系统足够时间

### 2. 响度测量参数 (`config.m` + `measure_loudness.m`)
- **块大小**: 400ms（EBU R128标准）
- **跳跃大小**: 100ms（EBU R128标准）
- **短期响度窗口**: 3.0秒

**优化理由**: 
- 符合EBU R128和ITU-R BS.1770标准
- 400ms块大小提供足够的频率分辨率
- 100ms跳跃确保时间分辨率

### 3. VAD参数 (`config.m` + `dialogue_VAD.m`)
- **帧大小**: 10ms
- **时间平滑窗口**: 3.0秒

**优化理由**: 
- 10ms是语音检测的最佳帧大小（平衡分辨率和计算效率）
- 3秒平滑窗口减少误检

### 4. 限制器参数 (`config.m` + `adaptive_normalizer.m`)
- **Attack时间**: 3.0ms
- **Release时间**: 50.0ms

**优化理由**: 
- 3ms足够快以捕获峰值，同时避免过度失真
- 50ms提供平滑的恢复，避免泵浦效应

### 5. True Peak参数 (`config.m`)
- **Oversample因子**: 4x（EBU推荐）
- **TP Ceiling**: -1.0 dBTP（EBU R128标准）
- **TP安全裕度**: 1.0 dB

**优化理由**: 
- 4x oversampling是EBU R128推荐的最小值
- -1.0 dBTP是广播标准
- 1.0 dB安全裕度避免codec引起的overshoot

### 6. 平台参数 (`platform_presets.m`)
- **Apple Music**: -16 LUFS, -1.0 dBTP
- **Spotify**: -14 LUFS, -1.0 dBTP
- **YouTube**: -14 LUFS, -1.0 dBTP
- **TikTok**: -16 LUFS, -1.0 dBTP

**优化理由**: 
- 基于各平台的实际规范
- -1.0 dBTP是行业标准

## 所有参数现在都可通过 `config.m` 配置

所有硬编码的值都已移除，现在可以通过 `config.m` 统一配置所有参数。

## 性能优化

- 文件I/O使用临时文件策略，避免锁定问题
- 所有等待时间都经过优化，平衡可靠性和性能
- 重试机制使用指数退避，避免过度等待

